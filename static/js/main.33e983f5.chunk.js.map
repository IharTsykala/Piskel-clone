{"version":3,"sources":["containers/Palette/Palette.module.scss","containers/FieldDraw/index.js","containers/Frames/index.js","containers/Palette/index.js","App.js","index.js","containers/Frames/Frames.module.scss","containers/FieldDraw/FieldDraw.module.scss"],"names":["module","exports","palette","size-tool-palette","tools-palette","color-pallete","PIXEL_SIZE","currentPixelSize","prevCounterX","prevCounterY","CANVAS_SIZES","small","medium","large","PEN_SIZES","getCursorPosition","e","canvas","clientX","clientY","_canvas$getBoundingCl","getBoundingClientRect","left","top","brezLine","x1","y1","x2","y2","ctx","this","sizeLineX","sizeLineY","dx","dy","sx","sy","fillStyle","getColorDraw","fillRect","v","d","x","y","FieldDraw","state","size","clickMouseDownFlag","imageData","startXY","ref","createRef","drawMathPixel","currentPixelX","Math","floor","currentPixelY","x3","y3","eraser","pixel","_this","globalCompositeOperation","getImageData","width","height","setState","pen","lineMouseMove","clearRect","call","Object","assertThisInitialized","lineMouseUp","putImageData","copyImageData","rectangleMouseMove","strokeRect","lineWidth","circleMouseMove","radiusX","centerX","centerY","strokeStyle","beginPath","arc","PI","stroke","handleMouseDown","current","tools","props","toolState","penFlag","eraserFlag","lineFlag","rectangleFlag","circleFlag","lightenFlag","ditheringFlag","ratio","map","i","_getCursorPosition$ma","_getCursorPosition$ma2","slicedToArray","currentSizePixel","lighten","dithering","handleMouseUp","colorPickerFlag","_getCursorPosition$ma3","_getCursorPosition$ma4","colorPicker","handleMouseMove","moveFlag","_getCursorPosition$ma5","_getCursorPosition$ma6","moveFieldDraw","handleButtonClick","_ref","value","target","getContext","handlePenClick","prevProps","prevState","snapshot","onCanvasChanged","clearFieldFlag","_this$props$toolState","paintSize","paintSize1pxFlag","paintSize2pxFlag","paintSize3pxFlag","paintSize4pxFlag","color","primaryColor","data","handleSecondaryColorClick","handlePrimaryColorClick","rChannel","gChannel","bChannel","concat","startX","startY","counterX","counterY","_this2","buttons","keys","_this$state","_this$state$x","_this$state$y","react_default","a","createElement","className","styles","id","onMouseDown","onMouseMove","onMouseUp","key","button","onClick","round","React","Component","Frames","frames","shouldShowFrame","countFrame","addFrame","bind","removeFrame","duplicateFrame","addStartFrame","frame","frameCanvas","frameCanvasSize","push","splice","console","log","slice","listFrames","toString","Pen","Eraser","_ref2","Line","_ref3","Rectangle","_ref4","Circle","_ref5","ColorPicker","_ref6","PaintSize1px","_ref7","PaintSize2px","_ref8","PaintSize3px","_ref9","PaintSize4px","_ref10","Lighten","_ref11","Move","_ref12","Dithering","_ref13","ClearField","_ref14","PrimaryColor","_ref15","SecondaryColor","_ref16","Palette","classCallCheck","possibleConstructorReturn","getPrototypeOf","handlePaintSize1px","handlePaintSize2px","handlePaintSize3px","handlePaintSize4px","handleEraserClick","handleLineClick","handleRectangleClick","handleCircleClick","handleColorPickerClick","handleLightenClick","handleDitheringClick","handleMoveClick","handleClearFieldClick","flagsOff","flag","paintSizeFlagOff","App","secondaryColor","handleCanvasChanged","keyName","handle","apply","esm","onKeyDown","Palette_Palette","Frames_Frames","FieldDraw_FieldDraw","ReactDOM","render","App_App","document","getElementById","frames-section","frames-list-section","canvas-frame","delete-frame","duplicate-frame","add-frames","field-draw","canvas-field-draw","size-canvas-field-draw","size32-canvas-field-draw","size64-canvas-field-draw","size128-canvas-field-draw","coordinates-canvas-field-draw"],"mappings":"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","file":"static/js/main.33e983f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"palette\":\"Palette_palette__1xbiH\",\"size-tool-palette\":\"Palette_size-tool-palette__2co_q\",\"tools-palette\":\"Palette_tools-palette__1dVwG\",\"color-pallete\":\"Palette_color-pallete__EIaTB\"};","import React, { createRef } from \"react\";\nimport styles from \"./FieldDraw.module.scss\";\n\nexport const canvas = {};\n\nconst PIXEL_SIZE = 15.625;\nlet currentPixelSize = PIXEL_SIZE;\n\nlet prevCounterX = 0;\nlet prevCounterY = 0;\n\nconst CANVAS_SIZES = {\n  small: 500,\n  medium: 1000,\n  large: 2000\n};\n\nconst PEN_SIZES = {\n  small: 32,\n  medium: 64,\n  large: 128\n};\n\nfunction getCursorPosition(e, canvas) {\n  const { clientX, clientY } = e;\n  const { left, top } = canvas.getBoundingClientRect();\n\n  let x = clientX - left;\n  let y = clientY - top;\n\n  return [x, y];\n}\n\nfunction getContext(canvas) {\n  if (!canvas) {\n    return;\n  }\n\n  return canvas.getContext(\"2d\");\n}\n// copy past with https://codepen.io/impfromliga/pen/PNvvpQ\nfunction brezLine(x1, y1, x2, y2) {\n  const { ctx } = this;\n  x1 |= 0;\n  y1 |= 0;\n  x2 |= 0;\n  y2 |= 0; //no float values!\n  let sizeLineX = x2 - x1;\n  let sizeLineY = y2 - y1;\n  if (sizeLineX < 0) sizeLineX = -sizeLineX;\n  if (sizeLineY < 0) sizeLineY = -sizeLineY;\n  if ((sizeLineX = currentPixelSize || sizeLineY >= currentPixelSize)) {\n    let dx = x2 - x1,\n      dy = y2 - y1; //find delta x,y\n    let sx = (dx > 0) - (dx < 0),\n      sy = (dy > 0) - (dy < 0); //sign of delta values +1 or 0 or -1\n    dx *= sx;\n    dy *= sy; //convert dx,dy to abs values use the multiple with sign\n    ctx.fillStyle = this.getColorDraw();\n    ctx.fillRect(x1, y1, currentPixelSize, currentPixelSize); //start point draw always\n    if (!(dx || dy)) return; //if no any delta dx or dy stop\n    let d = 0,\n      x = x1,\n      y = y1,\n      v;\n    if (dy < dx)\n      //if abs delta Y less then abs delta X - iterate by X += sign of delta X (+1 or -1)\n      for (\n        v = 0 | (((dy << 15) / dx) * sy);\n        x ^ x2;\n        x += sx, d &= 32767 //v is Tan() = y/x scaled by * 32768 (sub grid step)\n      )\n        ctx.fillRect(\n          x,\n          (y += (d += v) >> 15),\n          currentPixelSize,\n          currentPixelSize\n        );\n    //d accumulate += grid step, so Y take +1px for each 32768 steps.\n    //else if abs delta X less then abs delta Y - iterate by Y += sign of delta Y (+1 or -1)\n    else\n      for (\n        v = 0 | (((dx << 15) / dy) * sx);\n        y ^ y2;\n        y += sy, d &= 32767 //v is Ctn() = x/y scaled by * 32768 (sub grid step)\n      )\n        ctx.fillRect(\n          (x += (d += v) >> 15),\n          y,\n          currentPixelSize,\n          currentPixelSize\n        ); // d &= 32767 is accumulator partial emptyer\n  }\n}\n\nexport default class FieldDraw extends React.Component {\n  state = {\n    size: 500,\n    clickMouseDownFlag: false,\n    imageData: {},\n    startXY: []\n  };\n\n  ref = createRef();\n\n  componentDidMount() {\n    this.ctx = getContext(this.ref.current);\n    this.imageData = this.ctx.getImageData(\n      0,\n      0,\n      this.state.size,\n      this.state.size\n    );\n\n    this.props.handlePenClick();\n\n    // this.setState({ imageData: this.imageData });\n\n    // console.log(this.props.toolState.tools);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.size !== prevState.size) {\n      this.ctx.putImageData(prevState.imageData, 0, 0);\n      // this.props.onCanvasChanged(this.state.size);\n    }\n    if (this.state.imageData !== prevState.imageData) {\n      this.props.onCanvasChanged(this.state.imageData);\n    }\n    if (\n      this.props.toolState.tools.clearFieldFlag !==\n      prevProps.toolState.tools.clearFieldFlag\n    ) {\n      this.ctx.globalCompositeOperation = \"destination-out\";\n      this.ctx.fillRect(0, 0, this.state.size, this.state.size);\n      this.ctx.globalCompositeOperation = \"source-over\";\n      this.imageData = this.ctx.getImageData(\n        0,\n        0,\n        this.state.size,\n        this.state.size\n      );\n      this.setState({ imageData: this.imageData });\n    }\n  }\n\n  currentSizePixel() {\n    const {\n      paintSize1pxFlag,\n      paintSize2pxFlag,\n      paintSize3pxFlag,\n      paintSize4pxFlag\n    } = this.props.toolState.paintSize;\n\n    if (paintSize1pxFlag) {\n      currentPixelSize = PIXEL_SIZE;\n    }\n    if (paintSize2pxFlag) {\n      currentPixelSize = PIXEL_SIZE * 2;\n    }\n    if (paintSize3pxFlag) {\n      currentPixelSize = PIXEL_SIZE * 3;\n    }\n    if (paintSize4pxFlag) {\n      currentPixelSize = PIXEL_SIZE * 4;\n    }\n  }\n\n  drawMathPixel = (x, y) => {\n    const currentPixelX = Math.floor(x / currentPixelSize);\n    const currentPixelY = Math.floor(y / currentPixelSize);\n    const x1 = currentPixelX * currentPixelSize;\n    const y1 = currentPixelY * currentPixelSize;\n    const x2 = x1 + PIXEL_SIZE;\n    const y2 = y1 + PIXEL_SIZE;\n    const x3 = x2 + PIXEL_SIZE;\n    const y3 = y2 + PIXEL_SIZE;\n    const x4 = x3 + PIXEL_SIZE;\n    const y4 = y3 + PIXEL_SIZE;\n    return [x1, y1, x2, y2, x3, y3, x4, y4];\n  };\n\n  getColorDraw() {\n    if (this.props.toolState.color.primaryColor === true) {\n      return \"rgba(0, 0, 0, 255)\";\n    } else {\n      return \"rgba(255, 0, 0, 255) \";\n    }\n  }\n\n  eraser = (x, y, canvas) => {\n    const pixel = this.drawMathPixel(x, y);\n    this.ctx.globalCompositeOperation = \"destination-out\";\n    this.ctx.fillRect(pixel[0], pixel[1], currentPixelSize, currentPixelSize);\n    this.ctx.globalCompositeOperation = \"source-over\";\n    this.imageData = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n    this.setState({ imageData: this.imageData });\n  };\n\n  pen = (x, y, canvas) => {\n    const pixel = this.drawMathPixel(x, y);\n    this.ctx.fillStyle = this.getColorDraw();\n    this.ctx.fillRect(pixel[0], pixel[1], currentPixelSize, currentPixelSize);\n    this.imageData = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n    this.setState({ imageData: this.imageData });\n  };\n\n  lineMouseMove = (x, y, canvas) => {\n    const pixel = this.drawMathPixel(x, y);\n    const { startXY } = this.state;\n    this.ctx.clearRect(startXY[0], startXY[1], x - startXY[0], y - startXY[1]);\n    brezLine.call(this, startXY[0], startXY[1], pixel[0], pixel[1]);\n  };\n\n  lineMouseUp = (x, y, canvas) => {\n    const pixel = this.drawMathPixel(x, y);\n    const { startXY } = this.state;\n    this.ctx.putImageData(this.copyImageData, 0, 0);\n    brezLine.call(this, startXY[0], startXY[1], pixel[0], pixel[1]);\n    this.imageData = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n    this.setState({ imageData: this.imageData });\n  };\n\n  rectangleMouseMove = (x, y, canvas) => {\n    const pixel = this.drawMathPixel(x, y);\n    const { startXY } = this.state;\n    this.ctx.putImageData(this.copyImageData, 0, 0);\n    this.ctx.strokeRect(\n      startXY[0],\n      startXY[1],\n      pixel[0] - startXY[0],\n      pixel[1] - startXY[1]\n    );\n    this.ctx.lineWidth =\n      (pixel[0], pixel[1], currentPixelSize, currentPixelSize);\n    this.imageData = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n    this.setState({ imageData: this.imageData });\n  };\n\n  circleMouseMove = (x, y, canvas) => {\n    const pixel = this.drawMathPixel(x, y);\n    const { startXY } = this.state;\n    let radiusX;\n    let centerX;\n    let centerY;\n    if (pixel[0] > startXY[0] && pixel[1] > startXY[1]) {\n      radiusX = (pixel[0] - startXY[0]) / 2;\n      centerX = startXY[0] + radiusX;\n      centerY = startXY[1] + radiusX;\n    }\n    if (pixel[0] > startXY[0] && pixel[1] < startXY[1]) {\n      radiusX = (pixel[0] - startXY[0]) / 2;\n      centerX = startXY[0] + radiusX;\n      centerY = startXY[1] - radiusX;\n    }\n    if (pixel[0] < startXY[0] && pixel[1] < startXY[1]) {\n      radiusX = (startXY[0] - pixel[0]) / 2;\n      if (radiusX < 0) radiusX = radiusX * -1;\n      centerX = startXY[0] - radiusX;\n      centerY = startXY[1] - radiusX;\n    }\n    if (pixel[0] < startXY[0] && pixel[1] > startXY[1]) {\n      radiusX = (startXY[0] - pixel[0]) / 2;\n      if (radiusX < 0) radiusX = radiusX * -1;\n      centerX = startXY[0] - radiusX;\n      centerY = startXY[1] + radiusX;\n    }\n    this.ctx.putImageData(this.copyImageData, 0, 0);\n    this.ctx.strokeStyle = this.getColorDraw();\n    this.ctx.beginPath();\n    this.ctx.arc(centerX, centerY, radiusX, 2, 4 * Math.PI, false);\n    this.ctx.lineWidth =\n      (pixel[0], pixel[1], currentPixelSize, currentPixelSize);\n    this.ctx.stroke();\n    this.imageData = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n    this.setState({ imageData: this.imageData });\n  };\n\n  colorPicker(x, y, canvas) {\n    if (\n      this.ctx.getImageData(x, y, 1, 1).data[3] === 255 &&\n      this.ctx.getImageData(x, y, 1, 1).data[0] === 255\n    ) {\n      this.props.handleSecondaryColorClick();\n    } else if (\n      this.ctx.getImageData(x, y, 1, 1).data[3] === 255 &&\n      this.ctx.getImageData(x, y, 1, 1).data[0] === 0\n    ) {\n      this.props.handlePrimaryColorClick();\n    } else {\n      this.props.handlePrimaryColorClick();\n    }\n  }\n\n  lighten(x, y, canvas) {\n    if (this.ctx.getImageData(x, y, 1, 1).data[3] === 0) {\n      return false;\n    }\n\n    let rChannel = this.ctx.getImageData(x, y, 1, 1).data[0];\n    let gChannel = this.ctx.getImageData(x, y, 1, 1).data[1];\n    let bChannel = this.ctx.getImageData(x, y, 1, 1).data[2];\n\n    if (rChannel <= 225) {\n      rChannel = rChannel + 25;\n    }\n    if (gChannel <= 225) {\n      gChannel = gChannel + 25;\n    }\n    if (bChannel <= 225) {\n      bChannel = bChannel + 25;\n    }\n\n    const pixel = this.drawMathPixel(x, y);\n    this.ctx.fillStyle = `rgba(${rChannel}, ${gChannel}, ${bChannel}, 255)`;\n    this.ctx.fillRect(pixel[0], pixel[1], currentPixelSize, currentPixelSize);\n    this.imageData = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n    this.setState({ imageData: this.imageData });\n  }\n\n  dithering(x, y, canvas) {\n    const pixel = this.drawMathPixel(x, y);\n    if (\n      this.ctx.getImageData(pixel[0] - 1, y, 1, 1).data[3] === 0 &&\n      this.ctx.getImageData(x, pixel[1] - 1, 1, 1).data[3] === 0 &&\n      this.ctx.getImageData(pixel[0] + PIXEL_SIZE, y, 1, 1).data[3] === 0 &&\n      this.ctx.getImageData(x, pixel[1] + PIXEL_SIZE, 1, 1).data[3] === 0\n    ) {\n      this.ctx.fillStyle = this.getColorDraw();\n      if (this.props.toolState.paintSize.paintSize1pxFlag) {\n        this.ctx.fillRect(pixel[0], pixel[1], PIXEL_SIZE, PIXEL_SIZE);\n      }\n      if (this.props.toolState.paintSize.paintSize2pxFlag) {\n        this.ctx.fillRect(pixel[0], pixel[1], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[2], pixel[3], PIXEL_SIZE, PIXEL_SIZE);\n      }\n      if (\n        this.props.toolState.paintSize.paintSize3pxFlag &&\n        this.ctx.getImageData(pixel[0] + PIXEL_SIZE * 2, y, 1, 1).data[3] ===\n          0 &&\n        this.ctx.getImageData(x, pixel[1] + PIXEL_SIZE * 2, 1, 1).data[3] === 0\n      ) {\n        this.ctx.fillRect(pixel[2], pixel[1], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[0], pixel[3], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[4], pixel[3], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[2], pixel[5], PIXEL_SIZE, PIXEL_SIZE);\n      }\n      if (\n        this.props.toolState.paintSize.paintSize4pxFlag &&\n        this.ctx.getImageData(pixel[0] + PIXEL_SIZE * 3, y, 1, 1).data[3] ===\n          0 &&\n        this.ctx.getImageData(x, pixel[1] + PIXEL_SIZE * 3, 1, 1).data[3] === 0\n      ) {\n        this.ctx.fillRect(pixel[0], pixel[1], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[4], pixel[1], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[2], pixel[3], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[6], pixel[3], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[0], pixel[5], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[4], pixel[5], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[2], pixel[7], PIXEL_SIZE, PIXEL_SIZE);\n        this.ctx.fillRect(pixel[6], pixel[7], PIXEL_SIZE, PIXEL_SIZE);\n      }\n      this.imageData = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n      this.setState({ imageData: this.imageData });\n    }\n  }\n\n  moveFieldDraw(x, y, canvas) {\n    const { startXY } = this.state;\n    const startX = startXY[0];\n    const startY = startXY[1];\n    let counterX = Math.floor((startX - x) / PIXEL_SIZE);\n    let counterY = Math.floor((startY - y) / PIXEL_SIZE);\n    if (counterX > 10 || counterX < -10) {\n      counterX = 0;\n      counterY = 0;\n      this.setState({ startXY: [x, y] });\n    }\n    if (counterY > 10 || counterY < -10) {\n      counterX = 0;\n      counterY = 0;\n      this.setState({ startXY: [x, y] });\n    }\n    if (counterX !== prevCounterX || counterY !== prevCounterY) {\n      this.imageData = this.ctx.getImageData(\n        counterX,\n        counterY,\n        this.state.size,\n        this.state.size\n      );\n      this.ctx.putImageData(this.imageData, 0, 0);\n      this.setState({ imageData: this.imageData });\n      prevCounterX = counterX;\n      prevCounterY = counterY;\n    }\n  }\n\n  handleMouseDown = e => {\n    const canvas = this.ref.current;\n    const { tools } = this.props.toolState;\n    const { size } = this.state;\n    const {\n      penFlag,\n      eraserFlag,\n      lineFlag,\n      rectangleFlag,\n      circleFlag,\n      lightenFlag,\n      ditheringFlag\n    } = tools;\n    const ratio = size / CANVAS_SIZES.small;\n    const startXY = getCursorPosition(e, canvas).map(i => ratio * i);\n    const [x, y] = getCursorPosition(e, canvas).map(i => ratio * i);\n    this.currentSizePixel();\n    this.setState({\n      clickMouseDownFlag: true,\n      startXY: startXY\n    });\n    if (lineFlag || rectangleFlag || circleFlag) {\n      this.copyImageData = this.ctx.getImageData(\n        0,\n        0,\n        this.state.size,\n        this.state.size\n      );\n    }\n    if (penFlag) {\n      this.pen(x, y, canvas);\n    }\n    if (eraserFlag) {\n      this.eraser(x, y, canvas);\n    }\n    if (lightenFlag) {\n      this.lighten(x, y, canvas);\n    }\n    if (ditheringFlag) {\n      this.dithering(x, y, canvas);\n    }\n  };\n\n  handleMouseUp = e => {\n    const canvas = this.ref.current;\n    const { tools } = this.props.toolState;\n    const { size } = this.state;\n    const { lineFlag, colorPickerFlag } = tools;\n    const ratio = size / CANVAS_SIZES.small;\n    const [x, y] = getCursorPosition(e, canvas).map(i => ratio * i);\n    prevCounterX = 0;\n    prevCounterY = 0;\n\n    this.setState({\n      clickMouseDownFlag: false\n    });\n    if (lineFlag) {\n      this.lineMouseUp(x, y, canvas);\n    }\n    if (colorPickerFlag) {\n      this.colorPicker(x, y, canvas);\n    }\n  };\n\n  handleMouseMove = e => {\n    const canvas = this.ref.current;\n    const { tools } = this.props.toolState;\n    const { size } = this.state;\n    const {\n      penFlag,\n      eraserFlag,\n      lineFlag,\n      rectangleFlag,\n      circleFlag,\n      moveFlag,\n      lightenFlag,\n      ditheringFlag\n    } = tools;\n    const ratio = size / CANVAS_SIZES.small;\n    const [x, y] = getCursorPosition(e, canvas).map(i => ratio * i);\n    this.setState({ x: x, y: y });\n\n    if (this.state.clickMouseDownFlag) {\n      if (penFlag) {\n        this.pen(x, y, canvas);\n      }\n      if (eraserFlag) {\n        this.eraser(x, y, canvas);\n      }\n      if (lineFlag) {\n        this.lineMouseMove(x, y, canvas);\n      }\n      if (rectangleFlag) {\n        this.rectangleMouseMove(x, y, canvas);\n      }\n      if (circleFlag) {\n        this.circleMouseMove(x, y, canvas);\n      }\n      if (moveFlag) {\n        this.moveFieldDraw(x, y, canvas);\n      }\n      if (lightenFlag) {\n        this.lighten(x, y, canvas);\n      }\n      if (ditheringFlag) {\n        this.dithering(x, y, canvas);\n      }\n    }\n  };\n\n  handleButtonClick = ({ target: { value } }) => {\n    const canvas = this.ref.current;\n    this.imageData = this.ctx.getImageData(0, 0, canvas.width, canvas.height);\n    this.setState({ size: value });\n  };\n\n  render() {\n    const buttons = Object.keys(PEN_SIZES);\n    const { size, x = 0, y = 0 } = this.state;\n\n    return (\n      <section className={styles[\"field-draw\"]}>\n        <canvas\n          ref={this.ref}\n          className={styles[\"canvas-field-draw\"]}\n          id={[\"canvas-field-draw\"]}\n          width={size}\n          height={size}\n          onMouseDown={this.handleMouseDown}\n          onMouseMove={this.handleMouseMove}\n          onMouseUp={this.handleMouseUp}\n        />\n        <div className={styles[\"size-canvas-field-draw\"]}>\n          {buttons.map(size => (\n            <button\n              key={CANVAS_SIZES[size]}\n              value={CANVAS_SIZES[size]}\n              className={styles.button}\n              onClick={this.handleButtonClick}\n            >\n              {`${PEN_SIZES[size]}px`}\n            </button>\n          ))}\n        </div>\n        <div className={styles[\"coordinates-canvas-field-draw\"]}>\n          <p>x:{Math.round(x)}px</p>\n          <p>y:{Math.round(y)}px</p>\n          <p>size:{size}px</p>\n        </div>\n      </section>\n    );\n  }\n}\n","import styles from \"./Frames.module.scss\";\nimport React, { createRef } from \"react\";\n\nfunction getContext(canvas) {\n  if (!canvas) {\n    return;\n  }\n\n  return canvas.getContext(\"2d\");\n}\n\nexport default class Frames extends React.Component {\n  state = {\n    size: 500,\n    imageData: {},\n    frames: [],\n    shouldShowFrame: false,\n    countFrame: 1\n  };\n\n  addFrame = this.addFrame.bind(this);\n  removeFrame = this.removeFrame.bind(this);\n  duplicateFrame = this.duplicateFrame.bind(this);\n  addStartFrame = this.addStartFrame.bind(this);\n  frame = this.frame.bind(this);\n\n  ref = createRef();\n\n  componentDidMount() {\n    this.ctx = getContext(this.ref.current);\n    // this.imageData = this.ctx.getImageData(0, 0, 500, 500);\n\n    this.setState({\n      // imageData: this.props.frameCanvas,\n      // frames: this.state.frames.concat([this.frame()])\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.frameCanvas !== prevProps.frameCanvas) {\n      this.imageData = this.props.frameCanvas;\n      // console.log(this.imageData);\n\n      this.ctx.putImageData(this.imageData, 0, 0);\n    }\n\n    if (this.props.frameCanvasSize !== prevProps.frameCanvasSize) {\n      this.setState({ size: +this.props.frameCanvasSize });\n      // console.log(this.state.size);\n    }\n  }\n\n  addStartFrame() {\n    const newFrame = this.frame();\n    // this.setState({\n    //   frame: this.state.frames.push(newFrame),\n    //   countFrame: this.state.countFrame + 1\n    // });\n    return newFrame;\n  }\n\n  addFrame() {\n    // console.log(this.frame());\n    this.setState({\n      frame: this.state.frames.push(this.frame()),\n      countFrame: this.state.countFrame + 1\n    });\n  }\n\n  removeFrame() {\n    // console.log(this.state.frames);\n    this.setState({\n      // imageData: this.props.frameCanvas,\n      frames: this.state.frames.splice(-1, 1),\n      countFrame: this.state.countFrame - 1\n    });\n    // console.log(this.state.frames);\n  }\n\n  duplicateFrame() {\n    console.log(this.state.frames);\n    this.setState({\n      // imageData: this.props.frameCanvas,\n      frames: this.state.frames.concat([this.state.frames.slice(0, 1)]),\n      countFrame: this.state.countFrame + 1\n    });\n    console.log(this.state.frames);\n  }\n\n  frame() {\n    return (\n      <li className={`${styles.frame}`}>\n        <canvas\n          ref={this.ref}\n          width={this.state.size}\n          height={this.state.size}\n          className={styles[\"canvas-frame\"]}\n        />\n        <button className={styles[\"delete-frame\"]} onClick={this.removeFrame}>\n          Del\n        </button>\n        <button\n          className={styles[\"duplicate-frame\"]}\n          onClick={this.duplicateFrame}\n        >\n          Dup\n        </button>\n      </li>\n    );\n  }\n\n  render() {\n    const frames = this.state.frames;\n    // const countFrame = this.state.countFrame;\n    let listFrames = frames.map((frame, i) => (\n      <li key={i.toString()}>{frame}</li>\n    ));\n    return (\n      <section className={styles[\"frames-section\"]}>\n        <ul className={styles[\"frames-list-section\"]}>\n          {this.addStartFrame()}\n          {listFrames}\n        </ul>\n        <button className={styles[\"add-frames\"]} onClick={this.addFrame}>\n          Add Frames\n        </button>\n      </section>\n    );\n  }\n}\n// {`${styles.frame} ${\".active\"}`}\n\n// {\n/* <li className={`${styles.frame} active`}>\n            <canvas\n              ref={this.ref}\n              width={this.state.size}\n              height={this.state.size}\n              className={styles[\"canvas-frame\"]}\n            />\n            <button className={styles[\"delete-frame\"]}>Del</button>\n            <button className={styles[\"duplicate-frame\"]}>Dup</button>\n          </li> */\n// }\n// this.state.addFlag &&\n","import styles from \"./Palette.module.scss\";\nimport React from \"react\";\n// import { Pen } from \"../App\";\n\nfunction Pen({ onClick }) {\n  return <button onClick={onClick}>Pen</button>;\n}\n\nfunction Eraser({ onClick }) {\n  // console.log(onClick);\n  return <button onClick={onClick}>Eraser</button>;\n}\n\nfunction Line({ onClick }) {\n  //  console.log(onClick);\n  return <button onClick={onClick}>Line</button>;\n}\n\nfunction Rectangle({ onClick }) {\n  //  console.log(onClick);\n  return <button onClick={onClick}>Rectangle</button>;\n}\n\nfunction Circle({ onClick }) {\n  //  console.log(onClick);\n  return <button onClick={onClick}>Circle</button>;\n}\n\nfunction ColorPicker({ onClick }) {\n  //  console.log(onClick);\n  return <button onClick={onClick}>Color Picker</button>;\n}\n\nfunction PaintSize1px({ onClick }) {\n  //  console.log(onClick);\n  return <button onClick={onClick}>1px</button>;\n}\n\nfunction PaintSize2px({ onClick }) {\n  //  console.log(onClick);\n  return <button onClick={onClick}>2px</button>;\n}\n\nfunction PaintSize3px({ onClick }) {\n  //  console.log(onClick);\n  return <button onClick={onClick}>3px</button>;\n}\n\nfunction PaintSize4px({ onClick }) {\n  //  console.log(onClick);\n  return <button onClick={onClick}>4px</button>;\n}\n\nfunction Lighten({ onClick }) {\n  // console.log(onClick);\n  return <button onClick={onClick}>Lighten</button>;\n}\n\nfunction Move({ onClick }) {\n  // console.log(onClick);\n  return <button onClick={onClick}>Move</button>;\n}\n\nfunction Dithering({ onClick }) {\n  // console.log(onClick);\n  return <button onClick={onClick}>Dithering</button>;\n}\n\nfunction ClearField({ onClick }) {\n  // console.log(onClick);\n  return <button onClick={onClick}>ClearField</button>;\n}\n\nfunction PrimaryColor({ onClick }) {\n  // console.log(onClick);\n  return <button onClick={onClick} />;\n}\n\nfunction SecondaryColor({ onClick }) {\n  // console.log(onClick);\n  return <button onClick={onClick} />;\n}\n\nexport default class Palette extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    return (\n      <section className={styles.palette}>\n        <div className={styles[\"size-tool-palette\"]}>\n          <PaintSize1px\n            className={styles[\"1px-tool-palette\"]}\n            onClick={this.props.handlePaintSize1px}\n          />\n          <PaintSize2px\n            className={styles[\"2px-tool-palette\"]}\n            onClick={this.props.handlePaintSize2px}\n          />\n          <PaintSize3px\n            className={styles[\"3px-tool-palette\"]}\n            onClick={this.props.handlePaintSize3px}\n          />\n          <PaintSize4px\n            className={styles[\"4px-tool-palette\"]}\n            onClick={this.props.handlePaintSize4px}\n          />\n        </div>\n        <div className={styles[\"tools-palette\"]}>\n          <Pen\n            className={styles[\"pen-tool-palette\"]}\n            onClick={this.props.handlePenClick}\n          />\n          <Eraser\n            className={styles[\"eraser-tool-palette\"]}\n            onClick={this.props.handleEraserClick}\n          />\n          <Line\n            className={styles[\"line-tool-palette\"]}\n            onClick={this.props.handleLineClick}\n          />\n          <Rectangle\n            className={styles[\"rectangle-tool-palette\"]}\n            onClick={this.props.handleRectangleClick}\n          />\n          <Circle\n            className={styles[\"circle-tool-palette\"]}\n            onClick={this.props.handleCircleClick}\n          />\n          <ColorPicker\n            className={styles[\"same-color-tool-palette\"]}\n            onClick={this.props.handleColorPickerClick}\n          />\n          <Lighten\n            className={styles[\"lighten-color-tool-palette\"]}\n            onClick={this.props.handleLightenClick}\n          />\n          <Dithering\n            className={styles[\"dithering-color-tool-palette\"]}\n            onClick={this.props.handleDitheringClick}\n          />\n          <Move\n            className={styles[\"choose-color-tool-palette\"]}\n            onClick={this.props.handleMoveClick}\n          />\n          <ClearField\n            className={styles[\"clearField-color-tool-palette\"]}\n            onClick={this.props.handleClearFieldClick}\n          />\n        </div>\n        <div className={styles[\"color-pallete\"]}>\n          <PrimaryColor\n            className={styles[\"primary-color-pallete\"]}\n            onClick={this.props.handlePrimaryColorClick}\n          />\n          <SecondaryColor\n            className={styles[\"secondary-color-pallete\"]}\n            onClick={this.props.handleSecondaryColorClick}\n          />\n        </div>\n      </section>\n    );\n  }\n}\n","import FieldDraw from \"./containers/FieldDraw\";\nimport Frames from \"./containers/Frames\";\nimport Palette from \"./containers/Palette\";\nimport React, { createRef } from \"react\";\nimport Hotkeys from \"react-hot-keys\";\n\nfunction flagsOff(tools) {\n  for (let flag in tools) {\n    if (flag === \"clearFieldFlag\") {\n      continue;\n    }\n    if (tools[flag] === true) {\n      tools[flag] = false;\n    }\n  }\n}\n\nfunction paintSizeFlagOff(paintSize) {\n  for (let flag in paintSize) {\n    if (flag === \"clearFieldFlag\") {\n      continue;\n    }\n    if (paintSize[flag] === true) {\n      paintSize[flag] = false;\n    }\n  }\n}\n\nexport default class App extends React.Component {\n  state = {\n    tools: {\n      penFlag: false,\n      eraserFlag: false,\n      lineFlag: false,\n      rectangleFlag: false,\n      circleFlag: false,\n      colorPickerFlag: false,\n      moveFlag: false,\n      lightenFlag: false,\n      ditheringFlag: false,\n      clearFieldFlag: false\n    },\n    paintSize: {\n      paintSize1pxFlag: true,\n      paintSize2pxFlag: false,\n      paintSize3pxFlag: false,\n      paintSize4pxFlag: false\n    },\n    color: {\n      primaryColor: true,\n      secondaryColor: false\n    }\n  };\n\n  ref = createRef();\n\n  handleCanvasChanged = imageData => {\n    this.setState({ imageData });\n  };\n\n  handlePaintSize1px = () => {\n    paintSizeFlagOff(this.state.paintSize);\n    this.setState(state => ({\n      paintSize: {\n        paintSize1pxFlag: true\n      }\n    }));\n  };\n\n  handlePaintSize2px = () => {\n    paintSizeFlagOff(this.state.paintSize);\n    this.setState(state => ({\n      paintSize: {\n        paintSize2pxFlag: true\n      }\n    }));\n  };\n\n  handlePaintSize3px = () => {\n    paintSizeFlagOff(this.state.paintSize);\n    this.setState(state => ({\n      paintSize: {\n        paintSize3pxFlag: true\n      }\n    }));\n  };\n\n  handlePaintSize4px = () => {\n    paintSizeFlagOff(this.state.paintSize);\n    this.setState(state => ({\n      paintSize: {\n        paintSize4pxFlag: true\n      }\n    }));\n  };\n\n  handlePenClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        penFlag: !this.state.tools.penFlag\n      }\n    }));\n  };\n\n  handleEraserClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        eraserFlag: !state.tools.eraserFlag\n      }\n    }));\n  };\n\n  handleLineClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        lineFlag: !state.tools.lineFlag\n      }\n    }));\n  };\n\n  handleRectangleClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        rectangleFlag: !state.tools.rectangleFlag\n      }\n    }));\n  };\n\n  handleCircleClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        circleFlag: !state.tools.circleFlag\n      }\n    }));\n  };\n\n  handleColorPickerClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        colorPickerFlag: !state.tools.colorPickerFlag\n      }\n    }));\n  };\n\n  handleLightenClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        lightenFlag: !state.tools.lightenFlag\n      }\n    }));\n  };\n\n  handleMoveClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        moveFlag: !state.tools.moveFlag\n      }\n    }));\n  };\n\n  handleDitheringClick = () => {\n    flagsOff(this.state.tools);\n    this.setState(state => ({\n      tools: {\n        ditheringFlag: !this.state.tools.ditheringFlag\n      }\n    }));\n  };\n\n  handleClearFieldClick = () => {\n    this.setState(state => ({\n      tools: {\n        clearFieldFlag: !this.state.tools.clearFieldFlag\n      }\n    }));\n  };\n\n  onKeyDown(keyName, e, handle) {\n    if (keyName === \"shift+1\") {\n      this.handlePaintSize1px.apply(this);\n    }\n    if (keyName === \"shift+2\") {\n      this.handlePaintSize2px.apply(this);\n    }\n    if (keyName === \"shift+3\") {\n      this.handlePaintSize3px.apply(this);\n    }\n    if (keyName === \"shift+4\") {\n      this.handlePaintSize4px.apply(this);\n    }\n    if (keyName === \"shift+p\") {\n      this.handlePenClick.apply(this);\n    }\n    if (keyName === \"shift+e\") {\n      this.handleEraserClick.apply(this);\n    }\n    if (keyName === \"shift+l\") {\n      this.handleLineClick.apply(this);\n    }\n    if (keyName === \"shift+r\") {\n      this.handleRectangleClick.apply(this);\n    }\n    if (keyName === \"shift+c\") {\n      this.handleCircleClick.apply(this);\n    }\n    if (keyName === \"alt+p\") {\n      this.handleColorPickerClick.apply(this);\n    }\n    if (keyName === \"alt+l\") {\n      this.handleLightenClick.apply(this);\n    }\n    if (keyName === \"alt+d\") {\n      this.handleDitheringClick.apply(this);\n    }\n    if (keyName === \"alt+m\") {\n      this.handleMoveClick.apply(this);\n    }\n    if (keyName === \"alt+c\") {\n      this.handleClearFieldClick.apply(this);\n    }\n    if (keyName === \"alt+b\") {\n      this.handlePrimaryColorClick.apply(this);\n    }\n    if (keyName === \"alt+r\") {\n      this.handleSecondaryColorClick.apply(this);\n    }\n  }\n\n  handlePrimaryColorClick = () => {\n    this.setState(() => ({\n      color: {\n        primaryColor: true,\n        secondaryColor: false\n      }\n    }));\n  };\n\n  handleSecondaryColorClick = () => {\n    this.setState(() => ({\n      color: {\n        secondaryColor: true,\n        primaryColor: false\n      }\n    }));\n  };\n\n  render() {\n    return (\n      <div className=\"piskel\">\n        <Hotkeys\n          keyName=\"shift+p, shift+e, shift+l, shift+r, shift+c,\n          shift+1, shift+2, shift+3, shift+4,\n          alt+p, alt+l, alt+d, alt+m, alt+c, alt+b, alt+r\"\n          onKeyDown={this.onKeyDown.bind(this)}\n        ></Hotkeys>\n        {/* <header>\n          <Header />\n        </header> */}\n        <main className=\"main\">\n          <Palette\n            handlePenClick={this.handlePenClick}\n            handleEraserClick={this.handleEraserClick}\n            handleLineClick={this.handleLineClick}\n            handleRectangleClick={this.handleRectangleClick}\n            handleCircleClick={this.handleCircleClick}\n            handleColorPickerClick={this.handleColorPickerClick}\n            handlePaintSize1px={this.handlePaintSize1px}\n            handlePaintSize2px={this.handlePaintSize2px}\n            handlePaintSize3px={this.handlePaintSize3px}\n            handlePaintSize4px={this.handlePaintSize4px}\n            handleMoveClick={this.handleMoveClick}\n            handleLightenClick={this.handleLightenClick}\n            handleDitheringClick={this.handleDitheringClick}\n            handleClearFieldClick={this.handleClearFieldClick}\n            handlePrimaryColorClick={this.handlePrimaryColorClick}\n            handleSecondaryColorClick={this.handleSecondaryColorClick}\n          />\n          <Frames\n            frameCanvas={this.state.imageData}\n            frameCanvasSize={this.state.size}\n          />\n          <FieldDraw\n            onCanvasChanged={this.handleCanvasChanged}\n            handlePenClick={this.handlePenClick}\n            handlePrimaryColorClick={this.handlePrimaryColorClick}\n            handleSecondaryColorClick={this.handleSecondaryColorClick}\n            toolState={this.state}\n          />\n          {/* <Animation /> */}\n          {/* <Export /> */}\n        </main>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"frames-section\":\"Frames_frames-section__qyJLD\",\"frames-list-section\":\"Frames_frames-list-section__UsDcl\",\"frame\":\"Frames_frame__3J4oW\",\"canvas-frame\":\"Frames_canvas-frame__1Yp0W\",\"delete-frame\":\"Frames_delete-frame__DWm7U\",\"duplicate-frame\":\"Frames_duplicate-frame__K1Fcy\",\"add-frames\":\"Frames_add-frames__OChLY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field-draw\":\"FieldDraw_field-draw__14SUU\",\"canvas-field-draw\":\"FieldDraw_canvas-field-draw__2Usfn\",\"size-canvas-field-draw\":\"FieldDraw_size-canvas-field-draw__1yy9F\",\"size32-canvas-field-draw\":\"FieldDraw_size32-canvas-field-draw__24A14\",\"size64-canvas-field-draw\":\"FieldDraw_size64-canvas-field-draw__1nMJ7\",\"size128-canvas-field-draw\":\"FieldDraw_size128-canvas-field-draw__xhg19\",\"coordinates-canvas-field-draw\":\"FieldDraw_coordinates-canvas-field-draw__rHBlM\"};"],"sourceRoot":""}